SELECT dr.*
FROM DecomRequest dr
WHERE NOT EXISTS (
    SELECT 1
    FROM DecomRequestItems dri
    WHERE dri.DecomRequestId = dr.Id
      AND dri.State = 'Completed'   -- ðŸ‘ˆ change to your target state
);